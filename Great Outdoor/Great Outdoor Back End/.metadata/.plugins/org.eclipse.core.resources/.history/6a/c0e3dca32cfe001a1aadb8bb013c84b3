package com.cg.go.dao;

import javax.transaction.Transactional;

import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.data.jpa.repository.Modifying;
import org.springframework.data.jpa.repository.Query;
import org.springframework.data.repository.query.Param;

import com.cg.go.entity.SalesReportEntity;

public interface SalesReportRepository extends JpaRepository<SalesReportEntity, Long>{
	
	@Modifying
    @Transactional
	@Query("update SalesReportEntity s set s.qty_sold=:qty ,s.total_sale=:t_sale WHERE s.p_id:=pid")
	void updateProductReport(@Param("pid") String productId ,@Param("qty") Integer quantity,
			@Param("t_sale") double totalSale);

}
